# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è naidizakupku_telegram

## –û–±–∑–æ—Ä
Telegram-–±–æ—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø–æ–∫—É–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Kafka –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **–Ø–∑—ã–∫**: Kotlin 2.0
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Spring Boot 3.3
- **JDK**: 21
- **–°–±–æ—Ä–∫–∞**: Gradle Kotlin DSL
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL + Spring Data JPA
- **–ú–∏–≥—Ä–∞—Ü–∏–∏**: Liquibase
- **–û—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π**: Apache Kafka + Spring for Kafka
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: Spring Scheduling –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker
- **CI/CD**: GitHub Actions

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∫–æ–¥–æ–≤
```
src/main/kotlin/com/naidizakupku/telegram/
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îî‚îÄ‚îÄ UserCode.kt                    # –°—É—â–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îî‚îÄ‚îÄ UserCodeRepository.kt          # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–∞–º–∏
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ UserCodeService.kt             # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ CodeGenerationService.kt       # –°–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–æ–¥–æ–≤
‚îú‚îÄ‚îÄ handler/
‚îÇ   ‚îî‚îÄ‚îÄ TelegramCodeHandler.kt         # –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /code
‚îú‚îÄ‚îÄ scheduler/
‚îÇ   ‚îî‚îÄ‚îÄ CodeCleanupScheduler.kt        # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∫–æ–¥–æ–≤
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ TelegramConfig.kt              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–æ–≤

src/main/resources/
‚îú‚îÄ‚îÄ application.yml                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è telegram.code.expiration.minutes
‚îî‚îÄ‚îÄ db/changelog/
    ‚îî‚îÄ‚îÄ changes/
        ‚îî‚îÄ‚îÄ 002-create-user-codes-table.xml  # –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã user_codes

```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
```
src/main/kotlin/com/naidizakupku/telegram/
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CodeVerificationDto.kt     # DTO –∫–ª–∞—Å—Å—ã –¥–ª—è Kafka —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ entity/
‚îÇ       ‚îî‚îÄ‚îÄ VerificationSession.kt     # –°—É—â–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ repository/
‚îÇ   ‚îî‚îÄ‚îÄ VerificationSessionRepository.kt # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ KafkaVerificationService.kt    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ VerificationSessionService.kt  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ TelegramNotificationService.kt # –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram
‚îÇ   ‚îî‚îÄ‚îÄ KafkaProducerService.kt        # –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Kafka
‚îú‚îÄ‚îÄ handler/
‚îÇ   ‚îî‚îÄ‚îÄ VerificationCallbackHandler.kt # –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫
‚îú‚îÄ‚îÄ listener/
‚îÇ   ‚îú‚îÄ‚îÄ VerificationRequestListener.kt # Kafka listener –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ RevokeResponseListener.kt      # Kafka listener –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç–∑—ã–≤–∞
‚îú‚îÄ‚îÄ scheduler/
‚îÇ   ‚îî‚îÄ‚îÄ VerificationSessionCleanupScheduler.kt # –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
‚îú‚îÄ‚îÄ controller/
‚îÇ   ‚îî‚îÄ‚îÄ VerificationController.kt      # REST API –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ config/
    ‚îî‚îÄ‚îÄ KafkaConfig.kt                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kafka –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

src/main/resources/
‚îú‚îÄ‚îÄ application.yml                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kafka –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ db/changelog/
    ‚îî‚îÄ‚îÄ changes/
        ‚îî‚îÄ‚îÄ 003-create-verification-sessions-table.xml # –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã verification_sessions

```

### 1. Controller Layer (`controller/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏ Telegram webhook'–æ–≤
- `UserController.kt` - REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- `CodeController.kt` - REST API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–∞–º–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `interceptor/TracingInterceptor.kt` - –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏

### 2. Service Layer (`service/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `TelegramBotService.kt` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å Telegram –±–æ—Ç–∞ —Å —ç—Ö–æ-—Ñ—É–Ω–∫—Ü–∏–µ–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫–æ–º–∞–Ω–¥—ã /code
- `UserService.kt` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `UserCodeService.kt` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `CodeGenerationService.kt` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö 7-–∑–Ω–∞—á–Ω—ã—Ö –∫–æ–¥–æ–≤
- `KafkaService.kt` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Kafka —Ç–æ–ø–∏–∫–∏
- `KafkaConsumerService.kt` - –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ Kafka —Ç–æ–ø–∏–∫–æ–≤
- `StartupInfoService.kt` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `DatabaseHealthService.kt` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
- `KafkaVerificationService.kt` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Kafka
- `VerificationSessionService.kt` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `TelegramNotificationService.kt` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- `KafkaProducerService.kt` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Kafka —Ç–æ–ø–∏–∫–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 3. Repository Layer (`repository/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- `UserRepository.kt` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `UserCodeRepository.kt` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `VerificationSessionRepository.kt` - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 4. Domain Layer (`domain/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç–∏
- `User.kt` - —Å—É—â–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `UserCode.kt` - —Å—É—â–Ω–æ—Å—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `VerificationSession.kt` - —Å—É—â–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–∞
- `VerificationStatus.kt` - enum —Å—Ç–∞—Ç—É—Å–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (PENDING, CONFIRMED, REVOKED)

### 5. Config Layer (`config/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `DatabaseConfig.kt` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —É—Å–ª–æ–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π Liquibase
- `KafkaConfig.kt` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Kafka, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–æ–≤ (user-events, notifications, –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
- `TelegramConfig.kt` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram Bot (—Ç–æ–∫–µ–Ω, –∏–º—è, username)
- `WebClientConfig.kt` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WebClient –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤

### 6. Handler Layer (`handler/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ Telegram –±–æ—Ç–∞
- `TelegramCodeHandler.kt` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /code –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
- `VerificationCallbackHandler.kt` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ callback'–æ–≤ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### 7. Scheduler Layer (`scheduler/`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏ –∑–∞–¥–∞—á
- `CodeCleanupScheduler.kt` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (300000 –º—Å)
- `VerificationSessionCleanupScheduler.kt` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

## REST API Endpoints

### UserController (`/api/users`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### Endpoints:
- `POST /api/users` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - **Request Body**: `User` –æ–±—ä–µ–∫—Ç
  - **Response**: `User` –æ–±—ä–µ–∫—Ç
  - **Kafka Event**: `user_registered`

- `GET /api/users/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
  - **Path Parameter**: `id` (Long)
  - **Response**: `User` –æ–±—ä–µ–∫—Ç

- `GET /api/users` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - **Response**: `List<User>`

- `PUT /api/users/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - **Path Parameter**: `id` (Long)
  - **Request Body**: `User` –æ–±—ä–µ–∫—Ç
  - **Response**: `User` –æ–±—ä–µ–∫—Ç
  - **Kafka Event**: `user_updated`

- `DELETE /api/users/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - **Path Parameter**: `id` (Long)
  - **Response**: `200 OK`
  - **Kafka Event**: `user_deleted`

- `POST /api/users/{id}/notify` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - **Path Parameter**: `id` (Long)
  - **Request Body**: `{"message": "—Ç–µ–∫—Å—Ç", "type": "info"}`
  - **Response**: `{"status": "success", "message": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å"}`
  - **Kafka Event**: –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–æ–ø–∏–∫ `notifications`

### CodeController (`/api/code`)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –†–∞–±–æ—Ç–∞ —Å –∫–æ–¥–∞–º–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### Endpoints:
- `POST /api/code/verify` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
  - **Request Body**: `VerificationRequest`
    ```json
    {
      "code": "1234567",
      "ip": "192.168.1.1",
      "userAgent": "Chrome/120.0.0.0",
      "location": "Moscow, Russia"
    }
    ```
  - **Response**: `Boolean` (true –µ—Å–ª–∏ –∫–æ–¥ –≤–∞–ª–∏–¥–µ–Ω)
  - **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∫–æ–¥–∞ —á–µ—Ä–µ–∑ `UserCodeService.verifyCode()`

- `GET /api/code/status/{correlationId}` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Å—Å–∏–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
  - **Path Parameter**: `correlationId` (UUID)
  - **Response**: 
    ```json
    {
      "correlationId": "uuid",
      "status": "PENDING|CONFIRMED|REVOKED",
      "message": "–æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞"
    }
    ```
  - **–°—Ç–∞—Ç—É—Å**: TODO - —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏–∑ —Å–µ—Ä–≤–∏—Å–∞
  - **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ UUID —Ñ–æ—Ä–º–∞—Ç–∞

### TracingInterceptor
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:
- `X-Trace-Id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- `X-Span-Id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ —É—á–∞—Å—Ç–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- `X-Request-Id` - –æ–±—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `X-Correlation-Id` - –¥–ª—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `X-Parent-Span-Id` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ span'–∞

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è trace/span ID –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω—ã
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ MDC –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –í–æ–∑–≤—Ä–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –≤ response –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ request attributes

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫
```
Telegram Bot API ‚Üí TelegramBotService ‚Üí UserService ‚Üí UserRepository ‚Üí PostgreSQL
                                    ‚Üì
                              KafkaService ‚Üí Kafka ‚Üí KafkaConsumerService

REST API –ø–æ—Ç–æ–∫:
HTTP Client ‚Üí UserController/CodeController ‚Üí Service Layer ‚Üí Repository Layer ‚Üí PostgreSQL
                                    ‚Üì
                              KafkaService ‚Üí Kafka ‚Üí KafkaConsumerService

–ö–æ–º–∞–Ω–¥–∞ /code:
Telegram Bot API ‚Üí TelegramBotService ‚Üí TelegramCodeHandler ‚Üí UserCodeService ‚Üí CodeGenerationService ‚Üí UserCodeRepository ‚Üí PostgreSQL

–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–æ–≤:
Kafka ‚Üí VerificationRequestListener ‚Üí KafkaVerificationService ‚Üí VerificationSessionService ‚Üí TelegramNotificationService ‚Üí Telegram Bot API

REST API –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:
HTTP Client ‚Üí CodeController ‚Üí UserCodeService ‚Üí UserCodeRepository ‚Üí PostgreSQL
```

### Kafka –ø–æ—Ç–æ–∫–∏
- **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π**: `KafkaService.sendUserEvent()` ‚Üí `user-events` —Ç–æ–ø–∏–∫
- **–û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: `KafkaService.sendNotification()` ‚Üí `notifications` —Ç–æ–ø–∏–∫
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π**: `user-events` —Ç–æ–ø–∏–∫ ‚Üí `KafkaConsumerService.handleUserEvent()`
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: `notifications` —Ç–æ–ø–∏–∫ ‚Üí `KafkaConsumerService.handleNotification()`

### Kafka –ø–æ—Ç–æ–∫–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ó–∞–ø—Ä–æ—Å—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏**: `code-verification-request` —Ç–æ–ø–∏–∫ ‚Üí `VerificationRequestListener` ‚Üí `KafkaVerificationService`
- **–û—Ç–≤–µ—Ç—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏**: `KafkaProducerService` ‚Üí `code-verification-response` —Ç–æ–ø–∏–∫
- **–ó–∞–ø—Ä–æ—Å—ã –æ—Ç–∑—ã–≤–∞**: `KafkaProducerService` ‚Üí `authorization-revoke-request` —Ç–æ–ø–∏–∫
- **–û—Ç–≤–µ—Ç—ã –æ—Ç–∑—ã–≤–∞**: `authorization-revoke-response` —Ç–æ–ø–∏–∫ ‚Üí `RevokeResponseListener` ‚Üí `KafkaVerificationService`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `telegram_db`
- **–¢–∏–ø**: PostgreSQL
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–í–ª–∞–¥–µ–ª–µ—Ü**: postgres (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –¢–∞–±–ª–∏—Ü–∞ `users`
- `id` (BIGINT, PRIMARY KEY, AUTO_INCREMENT) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `telegram_id` (BIGINT, UNIQUE, NOT NULL) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
- `first_name` (VARCHAR(255)) - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `last_name` (VARCHAR(255)) - —Ñ–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `username` (VARCHAR(255)) - username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `created_at` (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP) - –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏
- `updated_at` (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP) - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `active` (BOOLEAN, DEFAULT TRUE) - —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¢–∞–±–ª–∏—Ü–∞ `user_codes`
- `id` (BIGINT, PRIMARY KEY, AUTO_INCREMENT) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `code` (VARCHAR(7), UNIQUE, NOT NULL) - 7-–∑–Ω–∞—á–Ω—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
- `telegram_user_id` (BIGINT, NOT NULL) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram
- `expires_at` (TIMESTAMP, NOT NULL) - –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è –∫–æ–¥–∞
- `created_at` (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP) - –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–¥–∞

### –¢–∞–±–ª–∏—Ü–∞ `verification_sessions`
- `id` (BIGINT, PRIMARY KEY, AUTO_INCREMENT) - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- `correlation_id` (VARCHAR(36), UNIQUE, NOT NULL) - UUID –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- `telegram_user_id` (BIGINT, NOT NULL) - ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Telegram
- `code` (VARCHAR(7), NOT NULL) - –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (7 —Å–∏–º–≤–æ–ª–æ–≤)
- `browser_info` (JSON) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
- `status` (VARCHAR(20), DEFAULT 'PENDING') - —Å—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏: PENDING, CONFIRMED, REVOKED
- `created_at` (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP) - –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
- `updated_at` (TIMESTAMP, DEFAULT CURRENT_TIMESTAMP) - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

### –ò–Ω–¥–µ–∫—Å—ã
- `idx_users_telegram_id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ telegram_id
- `idx_users_username` - –∏–Ω–¥–µ–∫—Å –ø–æ username (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞)
- `idx_users_active` - –∏–Ω–¥–µ–∫—Å –ø–æ active (–¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

#### –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `user_codes`
- `idx_user_codes_code` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ code –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- `idx_user_codes_telegram_user_id` - –∏–Ω–¥–µ–∫—Å –ø–æ telegram_user_id –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `idx_user_codes_expires_at` - –∏–Ω–¥–µ–∫—Å –ø–æ expires_at –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤

#### –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `verification_sessions`
- `idx_verification_correlation_id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –ø–æ correlation_id –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- `idx_verification_telegram_user_id` - –∏–Ω–¥–µ–∫—Å –ø–æ telegram_user_id –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `idx_verification_status_created` - —Å–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å –ø–æ status –∏ created_at –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π

### –ú–∏–≥—Ä–∞—Ü–∏–∏
- **001-create-users-table.xml** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã users
- **002-create-user-codes-table.xml** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã user_codes –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
- **003-create-verification-sessions-table.xml** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã verification_sessions –¥–ª—è —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **002-add-user-fields.xml** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- **002-remove-user-fields.xml** - —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –ø–æ–ª–µ–π

## Kafka Topics

### –¢–æ–ø–∏–∫–∏ –¥–ª—è —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `user-events` - —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥)
  - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: JSON —Å –ø–æ–ª—è–º–∏ `userId`, `eventType`, `timestamp`, `data`
  - **–¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π**: `user_registered`, `user_login`, `user_logout`
  - **–ü–∞—Ä—Ç–∏—Ü–∏–∏**: 3
  - **–†–µ–ø–ª–∏–∫–∏**: 1

### –¢–æ–ø–∏–∫–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
  - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: JSON —Å –ø–æ–ª—è–º–∏ `userId`, `message`, `type`, `timestamp`
  - **–¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**: `info`, `warning`, `error`
  - **–ü–∞—Ä—Ç–∏—Ü–∏–∏**: 3
  - **–†–µ–ø–ª–∏–∫–∏**: 1

### –¢–æ–ø–∏–∫–∏ –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–æ–≤
- `code-verification-request` - –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
  - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: JSON —Å –ø–æ–ª—è–º–∏ `correlationId`, `code`, `userBrowserInfo`, `timestamp`
  - **Consumer Group**: `telegram-bot-verification`
  - **Auto Offset Reset**: `latest`
- `code-verification-response` - –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é
  - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: JSON —Å –ø–æ–ª—è–º–∏ `correlationId`, `success`, `telegramUserId`, `message`, `timestamp`
- `authorization-revoke-request` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ—Ç–∑—ã–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: JSON —Å –ø–æ–ª—è–º–∏ `correlationId`, `telegramUserId`, `originalVerificationCorrelationId`, `reason`, `timestamp`
- `authorization-revoke-response` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  - **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**: JSON —Å –ø–æ–ª—è–º–∏ `correlationId`, `originalVerificationCorrelationId`, `telegramUserId`, `success`, `message`, `timestamp`

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤
- **Consumer Group**: `naidizakupku-telegram-consumer`
- **Auto Offset Reset**: `earliest`
- **Enable Auto Commit**: `false` (—Ä—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
- **Max Poll Records**: 500
- **Session Timeout**: 30000ms
- **Heartbeat Interval**: 3000ms

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–ø–∏–∫–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Consumer Group**: `telegram-bot-verification`
- **Auto Offset Reset**: `latest`
- **Enable Auto Commit**: `false` (—Ä—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ)
- **Consumer Group –¥–ª—è –æ—Ç–∑—ã–≤–∞**: `telegram-bot-verification-revoke`

### –ö–æ–º–∞–Ω–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–ø–∏–∫–æ–≤
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ user-events
/opt/kafka/bin/kafka-topics.sh \
  --create \
  --bootstrap-server 5.44.40.79:9092 \
  --replication-factor 1 \
  --partitions 3 \
  --config compression.type=zstd \
  --config retention.ms=604800000 \
  --config max.message.bytes=10485760 \
  --topic user-events

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ notifications
/opt/kafka/bin/kafka-topics.sh \
  --create \
  --bootstrap-server 5.44.40.79:9092 \
  --replication-factor 1 \
  --partitions 3 \
  --config compression.type=zstd \
  --config retention.ms=604800000 \
  --config max.message.bytes=10485760 \
  --topic notifications

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ code-verification-request
/opt/kafka/bin/kafka-topics.sh \
  --create \
  --bootstrap-server 5.44.40.79:9092 \
  --replication-factor 1 \
  --partitions 3 \
  --config compression.type=zstd \
  --config retention.ms=604800000 \
  --config max.message.bytes=10485760 \
  --topic code-verification-request

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ code-verification-response
/opt/kafka/bin/kafka-topics.sh \
  --create \
  --bootstrap-server 5.44.40.79:9092 \
  --replication-factor 1 \
  --partitions 3 \
  --config compression.type=zstd \
  --config retention.ms=604800000 \
  --config max.message.bytes=10485760 \
  --topic code-verification-response

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ authorization-revoke-request
/opt/kafka/bin/kafka-topics.sh \
  --create \
  --bootstrap-server 5.44.40.79:9092 \
  --replication-factor 1 \
  --partitions 3 \
  --config compression.type=zstd \
  --config retention.ms=604800000 \
  --config max.message.bytes=10485760 \
  --topic authorization-revoke-request

# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–∞ authorization-revoke-response
/opt/kafka/bin/kafka-topics.sh \
  --create \
  --bootstrap-server 5.44.40.79:9092 \
  --replication-factor 1 \
  --partitions 3 \
  --config compression.type=zstd \
  --config retention.ms=604800000 \
  --config max.message.bytes=10485760 \
  --topic authorization-revoke-response
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–ø–∏–∫–æ–≤
- **Compression**: zstd (–≤—ã—Å–æ–∫–∞—è —Å—Ç–µ–ø–µ–Ω—å —Å–∂–∞—Ç–∏—è)
- **Retention**: 7 –¥–Ω–µ–π (604800000 –º—Å)
- **Max Message Size**: 10MB (10485760 –±–∞–π—Ç)

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`application.yml`)
- –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: 8080
- –ü—Ä–æ—Ñ–∏–ª–∏: dev, prod
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: SLF4J + Logback
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫: @EnableScheduling –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á
- Kafka –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: –û—Ç–¥–µ–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç–æ–ø–∏–∫–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ü—Ä–æ–¥–∞–∫—à–Ω –ø—Ä–æ—Ñ–∏–ª—å (`application-prod.yml`)
- –ü–æ–Ω–∏–∂–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Kafka (WARN –≤–º–µ—Å—Ç–æ INFO)
- –û—Ç–∫–ª—é—á–µ–Ω—ã SQL –ª–æ–≥–∏ Hibernate
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ endpoints –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (—Ç–æ–ª—å–∫–æ health, info)
- –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ (50MB) —Å —Å–æ–∫—Ä–∞—â–µ–Ω–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π (7 –¥–Ω–µ–π)

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL**: –û—Å–Ω–æ–≤–Ω–∞—è –ë–î –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Liquibase**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –ë–î —Å —É—Å–ª–æ–≤–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
- **JPA/Hibernate**: ORM —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –¥–∏–∞–ª–µ–∫—Ç–∞
- **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- **DatabaseConfig**: –£—Å–ª–æ–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ Liquibase —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `spring.datasource.url`

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kafka
- **KRaft —Ä–µ–∂–∏–º**: –ë–µ–∑ Zookeeper
- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: localhost:9092
- **Docker Compose**: kafka:29092
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —á–µ—Ä–µ–∑ SASL/PLAIN
- **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è**: –û—Ç–¥–µ–ª—å–Ω—ã–µ consumer groups –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
- **–í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `telegram.code.expiration.minutes` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5 –º–∏–Ω—É—Ç)
- **–§–æ—Ä–º–∞—Ç –∫–æ–¥–∞**: 7 —Ü–∏—Ñ—Ä –æ—Ç 1000000 –¥–æ 9999999 (–ø–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞ –Ω–µ 0)
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π –∫–æ–¥ —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–µ
- **–û—á–∏—Å—Ç–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–π**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `verification.session.cleanup.minutes` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30 –º–∏–Ω—É—Ç)
- **–û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —ç–º–æ–¥–∑–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏
- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å**: –ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è (UTC+3) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WebClient
- **WebClientConfig**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞**: 1MB –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–æ–ª—å—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –î–ª—è –≤–Ω–µ—à–Ω–∏—Ö HTTP –≤—ã–∑–æ–≤–æ–≤ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
- `POSTGRES_DB` - –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: telegram_db)
- `POSTGRES_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: postgres)
- `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å PostgreSQL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞—Ç—å)
- `POSTGRES_URL` - –ø–æ–ª–Ω—ã–π URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
  - –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞: `jdbc:postgresql://localhost:5432/telegram_db`
  - Docker Compose: `jdbc:postgresql://postgres:5432/telegram_db`
  - –ü—Ä–æ–¥–∞–∫—à–Ω: `jdbc:postgresql://host.docker.internal:5432/telegram_db`

#### Apache Kafka
- `KAFKA_BOOTSTRAP_SERVERS` - –∞–¥—Ä–µ—Å–∞ Kafka —Å–µ—Ä–≤–µ—Ä–æ–≤
  - –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞: `localhost:9092`
  - Docker Compose: `kafka:29092`
- `KAFKA_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Kafka (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- `KAFKA_PASSWORD` - –ø–∞—Ä–æ–ª—å Kafka (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

#### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–æ–≤
- `verification.session.cleanup.minutes` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30)

#### Telegram Bot
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `TELEGRAM_BOT_NAME` - –∏–º—è Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `TELEGRAM_BOT_USERNAME` - username Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–¥—ã
- `TELEGRAM_CODE_EXPIRATION_MINUTES` - –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è –∫–æ–¥–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 5)

#### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–æ–≤
- `verification.session.cleanup.minutes` - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –º–∏–Ω—É—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 30)

#### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `SERVER_PORT` - –ø–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8080)
- `SPRING_PROFILES_ACTIVE` - –∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å Spring (dev/prod)

#### –ü—Ä–æ–¥–∞–∫—à–Ω (VPS)
- `VPS_IP` - IP –∞–¥—Ä–µ—Å VPS —Å–µ—Ä–≤–µ—Ä–∞
- `VPS_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPS

## –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
docker-compose up -d  # PostgreSQL + Kafka
./gradlew bootRun     # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

### –ü—Ä–æ–¥–∞–∫—à–Ω
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ GitHub Actions
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π PostgreSQL
```

**–í–∞–∂–Ω–æ**: –í –ø—Ä–æ–¥–∞–∫—à–Ω–µ PostgreSQL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —Ö–æ—Å—Ç–µ, –∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –Ω–µ–º—É —á–µ—Ä–µ–∑ `host.docker.internal:5432`.

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ –ë–î**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `host.docker.internal` –≤–º–µ—Å—Ç–æ IP –∞–¥—Ä–µ—Å–∞
- **–£–±—Ä–∞–Ω —è–≤–Ω—ã–π –¥–∏–∞–ª–µ–∫—Ç PostgreSQL**: Hibernate —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–∏–∞–ª–µ–∫—Ç
- **–î–æ–±–∞–≤–ª–µ–Ω --add-host**: –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `host.docker.internal` –Ω–∞ Linux –≤ GitHub Actions
- **Kafka –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Kafka
- **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î**: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ verification_sessions –¥–ª—è —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kafka**: –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `logs/application.log`
- –ú–µ—Ç—Ä–∏–∫–∏ Spring Boot Actuator
- Health checks –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **StartupInfoService** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Kafka –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è consumer groups –∏ —Ç–æ–ø–∏–∫–æ–≤
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–π –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–æ–≤
- **–ú–µ—Ç—Ä–∏–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤, –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–ú–µ—Ç—Ä–∏–∫–∏ –æ—á–∏—Å—Ç–∫–∏**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
- **–ê–ª–µ—Ä—Ç—ã**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –ø–æ–ø—ã—Ç–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **Dashboard**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã /code

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ú–µ—Ç—Ä–∏–∫–∏ Kafka**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ú–µ—Ç—Ä–∏–∫–∏ —Å–µ—Å—Å–∏–π**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –∏ –æ—Ç–æ–∑–≤–∞–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- **–ú–µ—Ç—Ä–∏–∫–∏ Telegram**: –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Health checks**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Kafka, —Å–æ—Å—Ç–æ—è–Ω–∏—è consumer groups
- **–ê–ª–µ—Ä—Ç—ã**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Kafka
- **–ú–µ—Ç—Ä–∏–∫–∏ callback'–æ–≤**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫ –∏ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –ø—Ä–æ—Ñ–∏–ª—è–º
- **dev**: INFO –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –≤–∫–ª—é—á–∞—è Kafka –∏ Hibernate
- **prod**: WARN –¥–ª—è Kafka, Hibernate –∏ Spring Framework, INFO –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Kafka –æ–ø–µ—Ä–∞—Ü–∏–∏**: INFO —É—Ä–æ–≤–µ–Ω—å —Å correlationId –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: INFO —É—Ä–æ–≤–µ–Ω—å —Å messageId –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- **–°–µ—Å—Å–∏–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏**: INFO —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–û—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏**: ERROR —É—Ä–æ–≤–µ–Ω—å —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ correlationId
- **Callback –æ–ø–µ—Ä–∞—Ü–∏–∏**: INFO —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫–æ–¥–∞–º–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –∫–æ–¥–æ–≤: INFO —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –∫–æ–¥, –≤—Ä–µ–º—è –∏—Å—Ç–µ—á–µ–Ω–∏—è)
- –ü–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–¥–æ–≤: INFO —É—Ä–æ–≤–µ–Ω—å
- –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤: INFO —É—Ä–æ–≤–µ–Ω—å —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: ERROR —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ó–∞–ø—Ä–æ—Å—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: INFO —É—Ä–æ–≤–µ–Ω—å —Å correlationId, –∫–æ–¥–æ–º –∏ –¥–µ—Ç–∞–ª—è–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: INFO —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏ —Å–µ—Å—Å–∏–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram: INFO —É—Ä–æ–≤–µ–Ω—å —Å messageId
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∑—ã–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: INFO —É—Ä–æ–≤–µ–Ω—å —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–∞
- –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π: INFO —É—Ä–æ–≤–µ–Ω—å —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- –û—à–∏–±–∫–∏ Kafka: ERROR —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏ –∏ correlationId
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback'–æ–≤: INFO —É—Ä–æ–≤–µ–Ω—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ REST API
- **TracingInterceptor**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ trace/span ID –≤ MDC
- **HTTP –∑–∞–ø—Ä–æ—Å—ã**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å traceId, spanId, requestId
- **API endpoints**: INFO —É—Ä–æ–≤–µ–Ω—å —Å –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- **–û—à–∏–±–∫–∏ API**: ERROR —É—Ä–æ–≤–µ–Ω—å —Å –ø–æ–ª–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: –°–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ correlationId

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–æ–≤**: ThreadLocalRandom –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏**: LocalDateTime —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: Spring Data JPA —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- **JSON –æ–±—Ä–∞–±–æ—Ç–∫–∞**: Jackson –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Kafka —Å–æ–æ–±—â–µ–Ω–∏–π
- **UUID –≥–µ–Ω–µ—Ä–∞—Ü–∏—è**: SecureRandom –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö correlationId

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **UUID –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ correlationId –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- **JSON —Ö—Ä–∞–Ω–µ–Ω–∏–µ**: Browser info —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ –≤ PostgreSQL
- **–°—Ç–∞—Ç—É—Å—ã —Å–µ—Å—Å–∏–π**: PENDING ‚Üí CONFIRMED/REVOKED —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- **Kafka —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è**: Jackson JSON –¥–ª—è DTO –æ–±—ä–µ–∫—Ç–æ–≤
- **Manual acknowledgment**: –†—É—á–Ω–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ Kafka —Å–æ–æ–±—â–µ–Ω–∏–π
- **Graceful shutdown**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- **Telegram API**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞–º–∏
- **Callback –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ REST API
- **Spring WebMVC**: REST –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ @RestController
- **Suspend —Ñ—É–Ω–∫—Ü–∏–∏**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∫–æ—Ä—É—Ç–∏–Ω–∞–º–∏ (UserController)
- **–°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**: –û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è CodeController (verifyCode, getVerificationStatus)
- **TracingInterceptor**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- **WebClient**: –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤
- **ResponseEntity**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ HTTP –æ—Ç–≤–µ—Ç—ã
- **Path Variables**: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—É—Ç–∏
- **Request Body**: JSON –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ DTO –æ–±—ä–µ–∫—Ç—ã
- **Error Handling**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API
- **Data Classes**: VerificationRequest –∫–∞–∫ data class —Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
- **UUID Parsing**: Try-catch –±–ª–æ–∫–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ UUID —Ñ–æ—Ä–º–∞—Ç–∞

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è:
- –ê–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏ –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Kafka (—Å–µ—Ä–≤–µ—Ä—ã, –ø—Ä–æ—Ç–æ–∫–æ–ª –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Telegram Bot (username, —Ç–æ–∫–µ–Ω –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ Kafka —Ç–æ–ø–∏–∫–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –°–æ—Å—Ç–æ—è–Ω–∏–µ consumer groups –∏ —Ç–æ–ø–∏–∫–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ö–æ–º–∞–Ω–¥—ã Telegram –±–æ—Ç–∞
- `/code` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ 7-–∑–Ω–∞—á–Ω–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ï—Å–ª–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–¥ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
  - –ï—Å–ª–∏ –Ω–µ—Ç - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –ú–°–ö (UTC+3)
  - –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: üîë –í–∞—à –∫–æ–¥: 1234567 ‚è∞ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: 15:30 (–ú–°–ö)

### Callback'—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ**: `confirm_{correlationId}` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–û—Ç–∑—ã–≤**: `revoke_{correlationId}` - –æ—Ç–∑—ã–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–µ—Å—Å–∏–π
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í–∞–ª–∏–¥–∞—Ü–∏—è correlationId –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–µ—Å—Å–∏—è–º–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: Graceful fallback –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Rate limiting –¥–ª—è API endpoints
- UUID –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è Kafka —Å–æ–æ–±—â–µ–Ω–∏–π –∏ DTO –æ–±—ä–µ–∫—Ç–æ–≤
- –ê—É–¥–∏—Ç –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –æ—Ç–∑—ã–≤–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç CSRF –∞—Ç–∞–∫ —á–µ—Ä–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏—é callback'–æ–≤

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å REST API
- **TracingInterceptor**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏
- **Path Variables**: –í–∞–ª–∏–¥–∞—Ü–∏—è UUID –∏ —á–∏—Å–ª–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **Request Body**: –í–∞–ª–∏–¥–∞—Ü–∏—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- **CORS**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cross-Origin Resource Sharing –¥–ª—è –≤–µ–±-–∫–ª–∏–µ–Ω—Ç–æ–≤
- **Rate Limiting**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API endpoints
- **Input Sanitization**: –û—á–∏—Å—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –æ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ–ø–∞—Å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Error Handling**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –±–µ–∑ —É—Ç–µ—á–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–¥–æ–≤
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∫–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
- **–í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—Ç–µ—á–µ–Ω–∏–µ –∫–æ–¥–æ–≤
- **–ò–∑–æ–ª—è—Ü–∏—è**: –ö–æ–¥—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫–æ–¥–∞–º–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **UUID –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è**: –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ–¥–Ω–∏–º correlationId
- **–í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–æ–≤**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- **–ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Å—Å–∏–π**: –ö–∞–∂–¥–∞—è —Å–µ—Å—Å–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: –ê—É–¥–∏—Ç –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –æ—Ç–∑—ã–≤–∞
- **Rate limiting**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Telegram callback –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- **–ó–∞—â–∏—Ç–∞ –æ—Ç replay –∞—Ç–∞–∫**: –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å correlationId –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–í–∞–ª–∏–¥–∞—Ü–∏—è browser info**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ IP –∏ User-Agent –¥–∞–Ω–Ω—ã—Ö

## –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫: 100 –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞: –°—Ç—Ä–æ–≥–æ 7 —Ü–∏—Ñ—Ä –æ—Ç 1000000 –¥–æ 9999999

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ correlationId: –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å UUID –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∏ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ browser info: –í–∞–ª–∏–¥–∞—Ü–∏—è IP, User-Agent –∏ –ª–æ–∫–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞: –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã PENDING ‚Üí CONFIRMED/REVOKED
- –í–∞–ª–∏–¥–∞—Ü–∏—è Kafka —Å–æ–æ–±—â–µ–Ω–∏–π: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è callback'–æ–≤: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Å–µ—Å—Å–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–∫: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ timestamp –¥–∞–Ω–Ω—ã—Ö

### –í–∞–ª–∏–¥–∞—Ü–∏—è REST API
- **Path Variables**: –í–∞–ª–∏–¥–∞—Ü–∏—è UUID —Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è correlationId, —á–∏—Å–ª–æ–≤—ã—Ö ID
- **Request Body**: –í–∞–ª–∏–¥–∞—Ü–∏—è JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- **VerificationRequest**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–¥–∞ (7 —Ü–∏—Ñ—Ä), IP –∞–¥—Ä–µ—Å–∞, User-Agent (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è)
- **User –æ–±—ä–µ–∫—Ç—ã**: –í–∞–ª–∏–¥–∞—Ü–∏—è telegramId, –∏–º–µ–Ω, username
- **Notification –æ–±—ä–µ–∫—Ç—ã**: –ü—Ä–æ–≤–µ—Ä–∫–∞ message –∏ type –ø–æ–ª–µ–π (—Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)
- **HTTP Headers**: –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ (X-Trace-Id, X-Span-Id)
- **Response Format**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –æ—Ç–≤–µ—Ç—ã —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ HTTP —Å—Ç–∞—Ç—É—Å–∞–º–∏
- **UUID –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ correlationId —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º 400 Bad Request –ø—Ä–∏ –æ—à–∏–±–∫–µ

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π
- –û—à–∏–±–∫–∏ –ë–î: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥–µ—Ç–∞–ª—è–º–∏, –≤–æ–∑–≤—Ä–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- –û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏: Fallback –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ë–î: Graceful degradation —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û—à–∏–±–∫–∏ Kafka: Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å correlationId
- –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Telegram: Fallback –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ Kafka –æ—Ç–≤–µ—Ç–∞—Ö
- Timeout –æ–±—Ä–∞–±–æ—Ç–∫–∏: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –û—à–∏–±–∫–∏ callback'–æ–≤: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫
- –û—à–∏–±–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏: Fallback –Ω–∞ –±–∞–∑–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- –û—à–∏–±–∫–∏ –ë–î: Graceful degradation —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–π

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ REST API
- **HTTP Status Codes**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∫–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤ (200, 400, 404, 500)
- **Validation Errors**: 400 Bad Request —Å –¥–µ—Ç–∞–ª—è–º–∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **UUID Format Errors**: 400 Bad Request –¥–ª—è –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö correlationId
- **Not Found**: 404 –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **Server Errors**: 500 —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –±–µ–∑ —É—Ç–µ—á–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- **Tracing**: –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å traceId –¥–ª—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏
- **Graceful Degradation**: Fallback –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **Error Response Format**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ JSON –æ—Ç–≤–µ—Ç—ã —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫
- **Fallback Values**: –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (message, type, ip, userAgent)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞—Å–æ–≤—ã—Ö –ø–æ—è—Å–æ–≤
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: UTC+3 (–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –≤—Ä–µ–º—è)
- Fallback: –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –í—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ HH:mm —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è: –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏ –≤ –º–æ—Å–∫–æ–≤—Å–∫–æ–º —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏


## CI/CD Pipeline
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
- –î–µ–ø–ª–æ–π –Ω–∞ Ubuntu 20.04 —Å–µ—Ä–≤–µ—Ä
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ Kafka**: –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Kafka —Å–µ—Ä–≤–µ—Ä–∞–º
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π**: –í–∞–ª–∏–¥–∞—Ü–∏—è Liquibase changelog —Ñ–∞–π–ª–æ–≤
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ DTO**: –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Kafka —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ callback'–æ–≤**: –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ Telegram callback'–æ–≤

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–¥–∞–º–∏
- **–ò–Ω–¥–µ–∫—Å—ã –ë–î**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ code, telegram_user_id, expires_at
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–æ–¥–æ–≤ –ø–µ—Ä–µ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –Ω–æ–≤—ã—Ö
- **Batch –æ–ø–µ—Ä–∞—Ü–∏–∏**: –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫**: –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ—á–∏—Å—Ç–∫–∏ (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç)

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–ò–Ω–¥–µ–∫—Å—ã –ë–î**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ correlation_id, telegram_user_id, status+created_at
- **JSON –∏–Ω–¥–µ–∫—Å—ã**: –ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ browser info
- **Batch –æ—á–∏—Å—Ç–∫–∞**: –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- **Kafka –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: Manual acknowledgment, idempotent producers
- **Telegram –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π**: –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∞–∫—Ç–∏–≤–Ω—ã–º —Å–µ—Å—Å–∏—è–º –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è JSON**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ browser info –¥–∞–Ω–Ω—ã—Ö
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è callback'–æ–≤**: –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ–¥–æ–≤**: –ê–ª–≥–æ—Ä–∏—Ç–º —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –ø–æ–ø—ã—Ç–æ–∫ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
- **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –º–µ—Å—Ç–∞ –≤ –ë–î
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**: –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–æ–≤

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Kafka –ø–∞—Ä—Ç–∏—Ü–∏–∏**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ –ø–∞—Ä—Ç–∏—Ü–∏—è–º —Ç–æ–ø–∏–∫–æ–≤
- **Consumer –≥—Ä—É–ø–ø—ã**: –ò–∑–æ–ª—è—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
- **–°–µ—Å—Å–∏–∏ –≤ –ë–î**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
- **Telegram API**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ callback'–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Load balancing**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ Kafka —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏
- **–®–∞—Ä–¥–∏–Ω–≥ –ë–î**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–π –ø–æ —Ä–∞–∑–Ω—ã–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ callback'–æ–≤**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è REST API
- **Suspend —Ñ—É–Ω–∫—Ü–∏–∏**: –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- **WebClient**: –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ HTTP –≤—ã–∑–æ–≤—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **TracingInterceptor**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É
- **ResponseEntity**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON –æ—Ç–≤–µ—Ç–æ–≤
- **Path Variables**: –ë—ã—Å—Ç—Ä–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—É—Ç–∏
- **Request Body**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- **Error Handling**: –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –±–µ–∑ –ª–∏—à–Ω–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å REST API
- **–ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: Stateless REST endpoints
- **Load Balancing**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –º–µ–∂–¥—É —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏
- **Connection Pooling**: –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ HTTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **Async Processing**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –∫–æ—Ä—É—Ç–∏–Ω–∞–º–∏
- **Caching**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Rate Limiting**: –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API endpoints

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ø–ª–æ—è
- **–ü—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª—ã –≤–æ–∫—Ä—É–≥ `=` –≤ –∫–æ–º–∞–Ω–¥–µ `docker run`
- **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Kafka**: `KAFKA_BOOTSTRAP_SERVERS`, `KAFKA_USER`, `KAFKA_PASSWORD`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**: –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### REST API - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
POST /api/users
Content-Type: application/json

{
  "telegramId": 123456789,
  "firstName": "–ò–≤–∞–Ω",
  "lastName": "–ü–µ—Ç—Ä–æ–≤",
  "username": "ivan_petrov"
}

Response: 200 OK
{
  "id": 1,
  "telegramId": 123456789,
  "firstName": "–ò–≤–∞–Ω",
  "lastName": "–ü–µ—Ç—Ä–æ–≤",
  "username": "ivan_petrov",
  "createdAt": "2024-01-01T15:30:00",
  "active": true
}
```

#### –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```bash
POST /api/users/1/notify
Content-Type: application/json

{
  "message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
  "type": "info"
}

Response: 200 OK
{
  "status": "success",
  "message": "–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –æ—á–µ—Ä–µ–¥—å"
}
```

### REST API - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–æ–≤

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```bash
POST /api/code/verify
Content-Type: application/json

{
  "code": "1234567",
  "ip": "192.168.1.1",
  "userAgent": "Chrome/120.0.0.0",
  "location": "Moscow, Russia"
}

Response: 200 OK
true
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
```bash
GET /api/code/status/550e8400-e29b-41d4-a716-446655440000

Response: 200 OK
{
  "correlationId": "550e8400-e29b-41d4-a716-446655440000",
  "status": "PENDING",
  "message": "Status retrieval not implemented yet"
}

# –ü—Ä–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º UUID:
Response: 400 Bad Request
{
  "error": "Invalid correlation ID format"
}
```

### –ö–æ–º–∞–Ω–¥–∞ /code
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /code
–ë–æ—Ç: üîë –í–∞—à –∫–æ–¥: 1234567
     ‚è∞ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: 15:30 (–ú–°–ö)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: /code (–ø–æ–≤—Ç–æ—Ä–Ω–æ)
–ë–æ—Ç: üîë –í–∞—à –∫–æ–¥: 1234567
     ‚è∞ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: 15:30 (–ú–°–ö)
```

### –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–æ–≤ —á–µ—Ä–µ–∑ Kafka
```
1. –ó–∞–ø—Ä–æ—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏:
   POST /api/verification/verify
   {
     "code": "1234567",
     "ip": "192.168.1.1",
     "userAgent": "Chrome/120.0.0.0",
     "location": "Moscow, Russia"
   }

2. –°–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram:
   üîê –ó–∞–ø—Ä–æ—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   
   IP: 192.168.1.1
   –ë—Ä–∞—É–∑–µ—Ä: Chrome/120.0.0.0
   –í—Ä–µ–º—è: 15:30 (–ú–°–ö)
   
   –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:
   [‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å] [‚ùå –û—Ç–æ–∑–≤–∞—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é]

3. –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏:
   ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞

4. –ü—Ä–∏ –æ—Ç–∑—ã–≤–µ:
   ‚è≥ –û—Ç–∑—ã–≤–∞–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é...
   ‚ùå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –æ—Ç–æ–∑–≤–∞–Ω–∞
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
```
2024-01-01 15:25:00 INFO  - –°–æ–∑–¥–∞–Ω –∫–æ–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123: 1234567, –∏—Å—Ç–µ–∫–∞–µ—Ç –≤ 2024-01-01T15:30:00
2024-01-01 15:25:05 INFO  - –ù–∞–π–¥–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 123: 1234567
2024-01-01 15:30:00 INFO  - –£–¥–∞–ª–µ–Ω–æ 1 –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∫–æ–¥–æ–≤
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
```
2024-01-01 15:25:00 INFO  - –ó–∞–ø—Ä–æ—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: correlationId=uuid, code=1234567
2024-01-01 15:25:01 INFO  - –°–æ–∑–¥–∞–Ω–∞ —Å–µ—Å—Å–∏—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏: correlationId=uuid, telegramUserId=123
2024-01-01 15:25:02 INFO  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram: messageId=456
2024-01-01 15:25:10 INFO  - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞: correlationId=uuid
2024-01-01 15:30:00 INFO  - –£–¥–∞–ª–µ–Ω–æ 2 –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
```
